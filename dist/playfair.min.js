/*! Playfair.js - v0.1.0-dev - 2013-09-26 */

(function(t){"use strict";function e(){e.history=e.history||[],e.history.push(arguments),t.console&&t.console.log(Array.prototype.slice.call(arguments))}var s=t.google||{},n=t.PF||{};t.PF=n,n.defaults=n.defaults||{},n.defaults.chs="300x200",n.opts=n.opts||{},n.opts.chs=function(t){var e,s=/^(\d+)x(\d+)$/;return null==t&&(n.utils.logError("chs (size) not specified. Using default."),t=n.defaults.chs),e=s.exec(t),e||(n.utils.logError("chs (size) formatted incorrectly. Using default."),e=s.exec(n.defaults.chs)),{height:parseInt(e[2],10),width:parseInt(e[1],10)}},n.opts.chd=function(t){var e,s,r=/^([tse]):(.+)$/;return(e=r.exec(t))?("t"===e[1]?s=function(t){var e,s,n,r,l,o,i,u,a,c;for(o=[],i=t.split("|"),e=0,s=i.length;s>e;e++){for(l=[],u=i[e],c=u.split(","),n=0,r=c.length;r>n;n++)a=c[n],"_"===a?a=null:(a=parseFloat(a),isNaN(a)&&(a=null)),l.push(a);o.push(l)}return o}(e[2]):"s"===e[1]?s=function(t){var e,s,n,r,l,o,i,u,a,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(o=[],i=t.split(","),e=0,s=i.length;s>e;e++){for(l=[],u=i[e],n=0,r=u.length;r>n;n++)a=u.substring(n,n+1),"_"===a?a=null:(a=c.indexOf(a),-1===a&&(a=null)),l.push(a);o.push(l)}return o}(e[2]):"e"===e[1]&&(s=function(t){var e,s,n,r,l,o,i,u,a,c,h,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.";for(u=[],a=t.split(","),s=0,n=a.length;n>s;s++){for(i=[],c=a[s],r=0,l=c.length;l>r;r+=2)e=c.substring(r,r+1),o=c.substring(r+1,r+2),"_"===e||"_"===o?h=null:(e=d.indexOf(e),o=d.indexOf(o),h=-1===e||-1===o?null:64*e+o),i.push(h);u.push(i)}return u}(e[2])),s):(n.utils.logError("No format specified for chd (data). Aborting."),void 0)},n.utils=n.utils||{},n.utils.logError=function(e,s){s=s!==void 0?s:t.document.getElementById("playfair-errors");var n=t.document.createDocumentFragment(),r=t.document.createElement("p");r.textContent=e,n.appendChild(r),s.appendChild(n)},n.utils.parseHash=function(t){var e,s,n,r,l,o={};for(t="#"===t.substring(0,1)?t.substring(1):t,l=t.split("&"),e=0,s=l.length;s>e;e++)r=l[e],n=r.split("="),o[n[0]]=n[1];return o},n.init=function(r,l){var o=n.utils.parseHash(r);s.load("visualization","1.0",{packages:["corechart"]}),s.setOnLoadCallback(function(){t.document.getElementById(l),n.opts.chs(o.chs),e("Loaded.")})}})(this);