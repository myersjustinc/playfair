/*! Playfair.js - v0.1.0-dev - 2013-09-27 */

(function(t){"use strict";function s(){s.history=s.history||[],s.history.push(arguments),t.console&&t.console.log(Array.prototype.slice.call(arguments))}var e=t.google||{},n=t.PF||{};t.PF=n,n.defaults=n.defaults||{},n.defaults.chs="300x200",n.opts=n.opts||{},n.opts.chd=function(t){var s,e,r=/^([tse]):(.+)$/;return(s=r.exec(t))?("t"===s[1]?e=function(t){var s,e,n,r,l,o,i,u,a,c;for(o=[],i=t.split("|"),s=0,e=i.length;e>s;s++){for(l=[],u=i[s],c=u.split(","),n=0,r=c.length;r>n;n++)a=c[n],"_"===a?a=null:(a=parseFloat(a),isNaN(a)&&(a=null)),l.push(a);o.push(l)}return o}(s[2]):"s"===s[1]?e=function(t){var s,e,n,r,l,o,i,u,a,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(o=[],i=t.split(","),s=0,e=i.length;e>s;s++){for(l=[],u=i[s],n=0,r=u.length;r>n;n++)a=u.substring(n,n+1),"_"===a?a=null:(a=c.indexOf(a),-1===a&&(a=null)),l.push(a);o.push(l)}return o}(s[2]):"e"===s[1]&&(e=function(t){var s,e,n,r,l,o,i,u,a,c,h,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.";for(u=[],a=t.split(","),e=0,n=a.length;n>e;e++){for(i=[],c=a[e],r=0,l=c.length;l>r;r+=2)s=c.substring(r,r+1),o=c.substring(r+1,r+2),"_"===s||"_"===o?h=null:(s=p.indexOf(s),o=p.indexOf(o),h=-1===s||-1===o?null:64*s+o),i.push(h);u.push(i)}return u}(s[2])),e):(n.utils.logError("No format specified for chd (data). Aborting."),void 0)},n.opts.chdl=function(t){return(t||"").split("|")},n.opts.chl=n.opts.chdl,n.opts.chs=function(t){var s,e=/^(\d+)x(\d+)$/;return null==t&&(n.utils.logError("chs (size) not specified. Using default."),t=n.defaults.chs),s=e.exec(t),s||(n.utils.logError("chs (size) formatted incorrectly. Using default."),s=e.exec(n.defaults.chs)),{height:parseInt(s[2],10),width:parseInt(s[1],10)}},n.utils=n.utils||{},n.utils.logError=function(s,e){e=e!==void 0?e:t.document.getElementById("playfair-errors");var n=t.document.createDocumentFragment(),r=t.document.createElement("p");r.textContent=s,n.appendChild(r),e.appendChild(n)},n.utils.parseHash=function(t){var s,e,n,r,l,o={};for(t="#"===t.substring(0,1)?t.substring(1):t,l=t.split("&"),s=0,e=l.length;e>s;s++)r=l[s],n=r.split("="),o[n[0]]=n[1];return o},n.init=function(r,l){var o=n.utils.parseHash(r);e.load("visualization","1.0",{packages:["corechart"]}),e.setOnLoadCallback(function(){t.document.getElementById(l),n.opts.chs(o.chs),s("Loaded.")})}})(this);